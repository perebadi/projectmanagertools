<!DOCTYPE html>
<html lang="en">
<head th:replace="layout/layout :: head"></head>
<body>
	<!-- START PAGE CONTAINER -->
	<div class="page-container">
		<!-- START PAGE SIDEBAR -->
		<div th:replace="layout/layout :: page-sidebar"></div>
		<!-- END PAGE SIDEBAR -->

		<!-- PAGE CONTENT -->
		<div class="page-content">

			<!-- START X-NAVIGATION VERTICAL -->
			<ul th:replace="layout/layout :: page-topbar"></ul>
			<!-- END X-NAVIGATION VERTICAL -->

			<div class="col-xs-12" style="height: 20px;"></div>

			<!-- PROJECT ID -->
			<input type="hidden" id="projectId" th:value="${project.id}" />
			<!-- END PROJECT ID -->

			<!-- PAGE CONTENT WRAPPER -->
			<div class="page-content-wrap">
				<form class="form-horizontal">
					<div class="row">
						<div class="col-md-12">
							<div class="row">
								<div class="col-md-6">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title" th:text="${project.projectname}">Custom
												Content Scroller</h3>
											<ul class="panel-controls">
												<!-- 
												<li><a href="#"
													th:href="@{/projects/project/__${project.id}__/rag/}"
													class="panel-fullscreen"><span class="fa fa-wrench"></span></a>
												</li>
												-->
											</ul>
										</div>
										<div class="panel-body scroll" style="height: 150px;">
											<p>
												<span th:text="${project.objectives}">f</span>
											</p>
										</div>
									</div>
								</div>

								<div class="col-md-6">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">RAG Indicators</h3>
											<ul class="panel-controls">
												<!-- 			                                        <li><button id="rag" name="rag" type="button" class="btn btn-success btn-rounded fa fa-wrench"></button></li>
 -->											<!-- 
												<li><a href="#"
													th:href="@{/projects/project/__${project.id}__/rag/}"
													class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>-->
												<li><a href="#" id="ragModal"><span class="fa fa-wrench"></span></a></li>
											</ul>
										</div>
										<div class="panel-body">
											<div class="col-md-6">

												<div class="form-group">
													<label class="col-md-9 control-label">Project
														Status</label>
													<div th:switch="${project.projectStatus.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>


												</div>
												<div class="form-group">
													<label class="col-md-9 control-label">Delivery
														Confidence</label>
													<div
														th:switch="${project.projectDeliveryConfidence.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-9 control-label">Project
														Governance</label>
													<div th:switch="${project.projectGovernance.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-9 control-label">Business
														Change</label>
													<div
														th:switch="${project.projectBusinessChange.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>

											</div>

											<div class="col-md-6">
												<div class="form-group">
													<label class="col-md-9 control-label">Benefits
														Realisation</label>
													<div
														th:switch="${project.projectBenefitsRealisation.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-9 control-label">Project
														Dependency</label>
													<div th:switch="${project.projectDependency.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-9 control-label">Project
														Resourcing</label>
													<div th:switch="${project.projectResourcing.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>
												<div class="form-group">
													<label class="col-md-9 control-label">Scope</label>
													<div th:switch="${project.projectScope.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">G</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Y</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">R</button></span>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
								<div class="col-md-3">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Logros alcanzados</h3>
											<ul class="panel-controls">
												<!--  
												<li><a href="#"
													th:href="@{/projects/project/__${project.id}__/achievement/}"
													class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>-->
												<li><a href="#" id="achievementModal"><span class="fa fa-wrench"></span></a></li>
											</ul>
										</div>

										<div class="panel-body">
											<ul class="list-group border-bottom">
												<li class="list-group-item" th:each="logro : ${logros}"><span
													th:text="${ logro.summaryachievement}"></span><span
													class="badge badge-success"
													th:text="${logro.dateachievement}"></span></li>
											</ul>
										</div>
									</div>
								</div>
								<div class="col-md-3">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Futuras actividades</h3>
											<ul class="panel-controls">
											<!-- 
												<li><a href="#"
													th:href="@{/projects/project/__${project.id}__/nextstep/}"
													class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>-->
											<li><a href="#" id="nextStepModal"><span class="fa fa-wrench"></span></a></li>
											</ul>
										</div>
										<div class="panel-body">
											<ul class="list-group border-bottom">
												<li class="list-group-item"
													th:each="nextstep : ${nextsteps}"><span
													th:text="${ nextstep.summarynextstep}"></span><span
													class="badge badge-info" th:text="'KW'+${nextstep.week}"></span></li>
											</ul>
										</div>
									</div>
								</div>
								<div class="col-md-3">
									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Problemas</h3>
											<ul class="panel-controls">
												<!-- 
												<li><a href="#"
													th:href="@{/projects/project/__${project.id}__/problem/}"
													class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>-->
												<li><a href="#" id="problemModal"><span class="fa fa-wrench"></span></a></li>
											</ul>
										</div>
										<div class="panel-body">
											<ul class="list-group border-bottom">
												<li class="list-group-item" th:each="problem : ${problems}"><span
													th:text="${ problem.summaryproblem}"></span><span
													class="badge badge-danger" th:text="'KW'+${problem.week}"></span></li>
											</ul>
										</div>
									</div>
								</div>
								<div class="col-md-3">

									<div class="panel panel-default">
										<div class="panel-heading">
											<h3 class="panel-title">Escalaciones</h3>
											<ul class="panel-controls">
												<!-- 
												<li><a href="#"
													th:href="@{/projects/project/__${project.id}__/escalation/}"
													class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>-->
												<li><a href="#" id="escalationModal"><span class="fa fa-wrench"></span></a></li>
											</ul>
										</div>
										<div class="panel-body">

											<div class="panel-body panel-body-table">

												<div class="table-responsive">
													<table class="table table-bordered table-striped">

														<tbody>
															<tr th:each="escalation : ${escalations}">
																<td width="80%"
																	th:text="${ escalation.summaryescalation}"></td>
																<td width="20%"><span class="badge badge-warning"
																	th:text="${escalation.dateescalation}"></span></td>

															</tr>
														</tbody>
													</table>
												</div>
											</div>
										</div>
									</div>
									<!-- <div class="panel panel-default">
			                                <div class="panel-heading">
			                                    <h3 class="panel-title">Escalaciones</h3>
			                                    <ul class="panel-controls">
			                                        <li><a href="#" th:href="@{/projects/project/__${project.id}__/escalation/}" class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>
			                                    </ul>
			                                </div>
			                                <div class="panel-body">
			                                    <ul class="list-group border-bottom">
			                                        <li class="list-group-item" th:each="escalation : ${escalations}" ><span th:text="${ escalation.summaryescalation}"></span><span class="badge badge-warning" th:text="${escalation.dateescalation}"></span></li>
			                                    </ul>                                 
			                                </div>
			                            </div> -->
								</div>
							</div>
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title">Financials</h3>
									<ul class="panel-controls">
										<!-- 
										<li><a href="#"
											th:href="@{/projects/project/__${project.id}__/phase/}"
											class="panel-fullscreen"><span class="fa fa-plus-square"></span></a></li>-->
									</ul>
								</div>
								<div class="panel-body">
									<!--                                     <p>Add class <code>.table-hover</code> to table to highlight row on hover.</p>
 -->
									<table class="table table-hover">
										<thead>
											<tr>
												<th style="text-align: center;">TCV</th>
												<th style="text-align: center;">TIC</th>
												<th style="text-align: center;">OP(P&amp;L)</th>
												<th style="text-align: center;">Estimated Cost</th>
												<th style="text-align: center;">EAC OP (P&amp;L)</th>
												<th style="text-align: center;">Variance (TCV-EAC)</th>
												<th style="text-align: center;">Certified Progress</th>
												<th style="text-align: center;">Modify</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td
													th:text="${#numbers.formatDecimal(project.TVC, 0, 'POINT', 2, 'COMMA')}+' €'"
													align="center"></td>
												<td
													th:text="${#numbers.formatDecimal(project.TIC, 0, 'POINT', 2, 'COMMA')}+' €'"
													align="center"></td>
												<td align="center"><span class="badge badge-info"
													th:text="${#numbers.formatDecimal(project.OP, 0, 'POINT', 2, 'COMMA')}+' %'">2018-01-30</span></td>
												<td
													th:text="${#numbers.formatDecimal(project.costestimated, 0, 'POINT', 2, 'COMMA')}+' €'"
													align="center"></td>

												<td align="center"><span class="badge badge-info"
													th:text="${#numbers.formatDecimal(project.EACOP, 0, 'POINT', 2, 'COMMA')}+' %'">2018-01-30</span></td>

												<td
													th:text="${#numbers.formatDecimal(project.variance, 0, 'POINT', 2, 'COMMA')}+' €'"
													align="center"></td>
												<td align="center">
													<div class="progress">
														<div class="progress-bar progress-bar-success"
															role="progressbar" aria-valuenow="45" aria-valuemin="0"
															aria-valuemax="100"
															th:style="'width:'+${project.certifiedprogress}+'%;'">
															<span class="num-count"
																th:text="${#numbers.formatDecimal(project.certifiedprogress, 0, 'POINT', 0, 'COMMA')}">20</span>%
															Complete
														</div>
													</div>
												</td>
												<td align="center">
													<a href="#" id="financialsModal" >
														<button type="button" class="btn btn-primary">
															<span class="fa fa-wrench" aria-hidden="true"></span>Editar
														</button>
													</a>
												</td>

											</tr>
										</tbody>
									</table>
								</div>
							</div>
							<div class="panel panel-default">
								<div class="panel-heading">
									<h3 class="panel-title">Project Plan</h3>
									<ul class="panel-controls">
										<!-- 
										<li><a href="#"
											th:href="@{/projects/project/__${project.id}__/phase/}"
											class="panel-fullscreen"><span class="fa fa-wrench"></span></a></li>-->
										<li><a href="#" id="phaseModal" ><span class="fa fa-wrench"></span></a></li>
									</ul>
								</div>
								<div class="panel-body">
									<table class="table datatable-simple" id="projectPlanTable">
										<thead>
											<tr>
												<th style="text-align: center;">Phase</th>
												<th style="text-align: center;">Start Date</th>
												<th style="text-align: center;">End Date</th>
												<th style="text-align: center;">Delay(Weeks)</th>
												<th style="text-align: center;">New End Dates</th>
												<th style="text-align: center;">Progress</th>
												<th style="text-align: center;">Status</th>
												<th style="text-align: center;">Modify</th>
											</tr>
										</thead>
										<tbody>
											<tr th:each="phase : ${phases}">
												<td th:text="${phase.summaryphase}" align="center"></td>
												<td th:text="${phase.startdate}" align="center"></td>
												<td th:text="${phase.enddate}" align="center"></td>
												<td th:text="${phase.weekdelay}" align="center"></td>
												<td th:text="${phase.newdate}" align="center"></td>
												<!-- 												<td th:text="${phase.progress}" align="center"> -->
												<td align="center">
													<div class="progress">
														<div class="progress-bar progress-bar-striped active"
															role="progressbar" aria-valuenow="45" aria-valuemin="0"
															aria-valuemax="100"
															th:style="'width:'+${phase.progress}+'%;'">
															<span class="num-count"
																th:text="${#numbers.formatDecimal(phase.progress, 0, 'POINT', 0, 'COMMA')}">20</span>%
															Complete
														</div>
													</div>

												</td>
												<td align="center">
													<div th:switch="${phase.rag.statusname}">
														<span th:case="G"><button type="button"
																class="btn btn-success btn-rounded">Green</button></span> <span
															th:case="Y"><button type="button"
																class="btn btn-warning btn-rounded">Yellow</button></span> <span
															th:case="R"><button type="button"
																class="btn btn-danger btn-rounded">Red</button></span>
													</div>
												</td>
												<td align="center"><a href="#"
													th:href="@{/projects/project/__${project.id}__/phase/__${phase.id}__/}">
														<button type="button" class="btn btn-primary">
															<span class="fa fa-wrench" aria-hidden="true"></span>Editar
														</button>
												</a></td>
											</tr>
										</tbody>
									</table>
								</div>
							</div>
						</div>
					</div>
				</form>
			</div>
			<!-- END PAGE CONTENT WRAPPER -->
		</div>
		<!-- END PAGE CONTENT -->
	</div>
	<!-- END START PAGE CONTAINER -->

	<!-- PROJECT MODALS -->
	<div th:replace="modal/project_modals :: project_modals"></div>
	<!-- END PROJECT MODALS -->

	<!-- FOOTER -->
	<footer th:replace="layout/layout :: footer"></footer>
	<!-- END FOOTER -->

	<!-- THIS PAGE PLUGINS -->
	<script type="text/javascript"
		src="js/plugins/datatables/jquery.dataTables.min.js"></script>
	<script th:src="@{/js/plugins/datatables/jquery.dataTables.min.js}"></script>
	<script th:src="@{/js/plugins/bootstrap/bootstrap-datepicker.js}"></script>
	<script th:src="@{/js/plugins/bootstrap/bootstrap-select.js}"></script>	
	<script th:src="@{/js/project_actions.js}"></script>		
	<!-- END PAGE PLUGINS -->

	<!-- START TEMPLATE -->
	<script th:src="@{/js/settings.jss}"></script>
	<!-- END TEMPLATE -->

</body>
</html>